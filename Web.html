<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Miftahul Tangguh</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>
  <nav class="navbar">
    <div class="logo-text">Miftahul Tangguh</div>
    <ul>
      <li><a href="#">Home</a></li>
      <li><a href="#">Profile</a></li>
      <li><a href="#gallery-section">Gallery</a></li>
      <li><a href="#latihan-section">Latihan</a></li>
      <li><a href="#">Kontak</a></li>
    </ul>
  </nav>
 
  <section class="hero-section">
    <img id="profilePic" src="profile.jpg" alt="Foto Profil" class="profile-pic" onerror="this.src='https://via.placeholder.com/150?text=Foto+Profil'" />
    <div class="edit-profile-pic">
      <form class="profile-form" id="profileForm">
        <label for="fotoProfile">Ganti Foto Profil</label>
        <input type="file" id="fotoProfile" accept="image/*" />
        <button type="submit">Simpan</button>
      </form>
    </div>
    <h1 id="profileName">MiftahulTangguh</h1>
    <p class="subtitle" id="profileDesc">Entrepreneur</p>
    <form class="profile-form" id="editProfileForm">
      <label for="namaProfile">Nama</label>
      <input type="text" id="namaProfile" value=",MiftahulTangguh" />
      <label for="descProfile">Deskripsi</label>
      <input type="text" id="descProfile" value="Entrepreneur" />
      <button type="submit">Simpan Profil</button>
    </form>
  </section>
 
  <section class="gallery-section" id="gallery-section">
    <h2>Gallery</h2>
    <div class="gallery-grid">
      <div class="gallery-item">Foto 1</div>
      <div class="gallery-item">Foto 2</div>
      <div class="gallery-item">Foto 3</div>
    </div>
  </section>
 
  <section class="latihan-section" id="latihan-section">
    <h2>Latihan</h2>
    <form class="upload-form" id="uploadForm">
      <label for="latihanTitle">Judul Latihan</label>
      <input type="text" id="latihanTitle" placeholder="Judul latihan ..." required />
      <label for="latihanFile">Upload File Latihan</label>
      <input type="file" id="latihanFile" required />
      <button type="submit">Upload Latihan</button>
    </form>
    <ul class="latihan-list" id="latihanList"></ul>
  </section>
 
  <script>
    // Ganti foto profil preview
    const fotoProfile = document.getElementById('fotoProfile');
    const profilePic = document.getElementById('profilePic');
    let currentProfileImg = localStorage.getItem('profileImg');
    if(currentProfileImg) profilePic.src = currentProfileImg;
    fotoProfile.addEventListener('change', function(e) {
      const file = e.target.files[0];
      if(file) {
        const reader = new FileReader();
        reader.onload = function(ev) {
          profilePic.src = ev.target.result;
          localStorage.setItem('profileImg', ev.target.result);
        };
        reader.readAsDataURL(file);
      }
    });
    // Profil Nama & Desc
    const profileName = document.getElementById('profileName');
    const profileDesc = document.getElementById('profileDesc');
    const namaProfileInp = document.getElementById('namaProfile');
    const descProfileInp = document.getElementById('descProfile');
    if(localStorage.getItem('profileName')) profileName.textContent = localStorage.getItem('profileName');
    if(localStorage.getItem('profileDesc')) profileDesc.textContent = localStorage.getItem('profileDesc');
    document.getElementById('editProfileForm').addEventListener('submit', function(e) {
      e.preventDefault();
      profileName.textContent = namaProfileInp.value;
      profileDesc.textContent = descProfileInp.value;
      localStorage.setItem('profileName', namaProfileInp.value);
      localStorage.setItem('profileDesc', descProfileInp.value);
    });
    // Upload latihan file daftar (hanya preview/download di browser)
    const latihanList = document.getElementById('latihanList');
    if(localStorage.getItem('latihanFiles')) {
      latihanList.innerHTML = localStorage.getItem('latihanFiles');
    }
    document.getElementById('uploadForm').addEventListener('submit', function(e) {
      e.preventDefault();
      const title = document.getElementById('latihanTitle').value.trim();
      const fileInput = document.getElementById('latihanFile');
      const file = fileInput.files[0];
      if(title && file) {
        const reader = new FileReader();
        reader.onload = function(ev) {
          const li = document.createElement('li');
          const download = document.createElement('a');
          download.href = ev.target.result;
          download.download = file.name;
          download.textContent = title + " (" + file.name.split('.').pop().toUpperCase() + ")";
          li.appendChild(download);
          latihanList.appendChild(li);
          localStorage.setItem('latihanFiles', latihanList.innerHTML);
        }
        reader.readAsDataURL(file);
        fileInput.value = "";
        document.getElementById('latihanTitle').value = "";
      }
    });
  </script>
</body>
</html>